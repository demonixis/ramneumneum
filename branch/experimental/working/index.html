<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>Ram Neum Neum</title>
</head>
<body>
	<div id="game">
		<canvas id="gameCanvas" width="800" height="600"></canvas>
	</div>
	<script src="jaws-min.js"></script>
	<script>
	function PlayState()
	{
		var player = new jaws.Sprite({x:50,y:50});
		var lardon = new jaws.Sprite({x:150,y:150});
		var macaron = new jaws.Sprite({x:250,y:250});
		var painepice = new jaws.Sprite({x:350,y:350});
		var player4 = new jaws.Sprite({x:450,y:450});
	
		this.setup = function() {
			var an1 = new jaws.Animation({
				sprite_sheet:"cuistot-4dir.png", frame_duration: 200, frame_size: [33, 64], orientation: "left"
			});
			
			player4.animUp = an1.slice(0, 1);
			player4.animDown = an1.slice(2, 3);
			player4.animLeft = an1.slice(3, 4);
			player4.animRight = an1.slice(1, 2);
			player4.setImage(player4.animDown.next());
			
			var an2 = new jaws.Animation({
				sprite_sheet:"macaron-4dir.png", frame_duration: 200, frame_size: [65, 64], orientation: "left"
			});
			
			macaron.animUp = an2.slice(1, 2);
			macaron.animDown = an2.slice(0, 1);
			macaron.animLeft = an2.slice(3, 4);
			macaron.animRight = an2.slice(2, 3);
			macaron.setImage(macaron.animDown.next());
			
			var an3 = new jaws.Animation({
				sprite_sheet:"painepice-4dir.png", frame_duration: 200, frame_size: [65, 64], orientation: "left"
			});
			
			painepice.animUp = an3.slice(0, 1);
			painepice.animDown = an3.slice(2, 3);
			painepice.animLeft = an3.slice(3, 4);
			painepice.animRight = an3.slice(1, 2);
			painepice.setImage(painepice.animDown.next());
			
			var an4 = new jaws.Animation({
				sprite_sheet:"lardon-4dir.png", frame_duration: 200, frame_size: [33, 32], orientation: "left"
			});
			
			lardon.animUp = an4.slice(0, 1);
			lardon.animDown = an4.slice(2, 3);
			lardon.animLeft = an4.slice(3, 4);
			lardon.animRight = an4.slice(1, 2);
			lardon.setImage(lardon.animDown.next());
			
			var an5 = new jaws.Animation({
				sprite_sheet:"player.png", frame_duration: 200, frame_size: [33, 64], orientation: "left"
			});
			
			player.animUp = an5.slice(0, 3);
			player.animDown = an5.slice(8, 11);
			player.animLeft = an5.slice(12, 15);
			player.animRight = an5.slice(4, 7);
			player.setImage(player.animDown.next());
			
			jaws.context.mozImageSmoothingEnabled = false;
            jaws.preventDefaultKeys(["up", "down", "left", "right", "shift", "space", "m"]);
          }
		
		this.update = function() {
			if (jaws.pressed("up"))
			{
				player4.setImage(player4.animUp.next());
				macaron.setImage(macaron.animUp.next());
				painepice.setImage(painepice.animUp.next());
				lardon.setImage(lardon.animUp.next());
				player.setImage(player.animUp.next());
			}
			
			if (jaws.pressed("down"))
			{
				player4.setImage(player4.animDown.next());
				macaron.setImage(macaron.animDown.next());
				painepice.setImage(painepice.animDown.next());
				lardon.setImage(lardon.animDown.next());
				player.setImage(player.animDown.next());
			}
			
			if (jaws.pressed("left"))
			{
				player4.setImage(player4.animLeft.next());
				macaron.setImage(macaron.animLeft.next());
				painepice.setImage(painepice.animLeft.next());
				lardon.setImage(lardon.animLeft.next());
				player.setImage(player.animLeft.next());
			}
			
			if (jaws.pressed("right"))
			{
				player4.setImage(player4.animRight.next());
				macaron.setImage(macaron.animRight.next());
				painepice.setImage(painepice.animRight.next());
				lardon.setImage(lardon.animRight.next());
				player.setImage(player.animRight.next());
			}	
		}
		
		this.draw = function() {
			jaws.context.clearRect(0, 0, jaws.width, jaws.height);
			player.draw();
			player4.draw();
			lardon.draw();
			macaron.draw();
			painepice.draw();
		}
	}
			 
	window.onload = function() {
		jaws.assets.add([ 
			"cuistot-4dir.png", 
			"lardon-4dir.png", 
			"macaron-4dir.png", 
			"painepice-4dir.png", 	
			"player.png", 
		 ]);
		
		jaws.start(PlayState, {fps: 60});
	}

	</script>
</body>
</html>
